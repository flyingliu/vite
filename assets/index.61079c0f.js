import{f as l,g as e}from"./util.44981369.js";import{l as a,m as t,g as s,r as o,o as n,c as i,w as u,j as c,i as r,u as d,h as m,n as f,F as p,k as h,q as y,t as b}from"./vendor.f82c9a14.js";const v=r("h5",{class:"subtitle"},[r("span",{class:"uline"},"打印设置")],-1),w={class:"cc"},g=h("加载本地字体"),z=h("打印"),V={emits:["getGrid"],setup(h,{emit:y}){const b=a({familylist:l.map((l=>"string"==typeof l?{label:e(l),value:l}:l))}),V=l=>{const e=b.familylist.find((e=>e.value===l));e&&x(e)},_=l=>{const a=window.URL.createObjectURL(l.raw),t=e(l.name),s=b.familylist;s.find((l=>l.label!=t))&&s.push({value:a,label:t}),x(s.find((l=>l.label==t)))};function x(l={}){const e=document.fonts,a=new FontFace(l.label,"url("+l.value+")");a.load().then((t=>(e.add(a),R.font=l.label,l))).catch((l=>{alert("字体加载错误！"),console.error(l)}))}const j=t((()=>({font:.72*R.size+"cm/"+R.size+"cm "+R.font}))),M=t((()=>({width:R.size+"cm",height:R.size+"cm"}))),k=s("孤山寺北贾亭西水面初平云脚低几处早莺争暖树谁家新燕啄春泥乱花渐欲迷人眼浅草才能没马蹄最爱湖东行不足绿杨阴里白沙堤");const F=t((()=>{let l=R.row;return function(l,e){return Array.from({length:Math.ceil(l.length/e)}).map(((a,t)=>l.slice(t*e,(t+1)*e)))}(k.value,l).filter(Boolean).map((e=>{let a=e.split("");return a.length>=l?a.splice(0,l):[...a,...Array(l-a.length).fill("")]}))})),U=t((()=>Math.floor(26/R.size))),G=t((()=>18/R.col)),R=a({col:12,content:F,row:U,size:G,font:"",styleObj:j,item:M}),q=()=>window.print();return x(b.familylist[0]),y("getGrid",R),(l,e)=>{const a=o("el-input"),t=o("el-form-item"),s=o("el-option"),h=o("el-select"),y=o("el-button"),x=o("el-upload"),j=o("el-slider"),M=o("el-form");return n(),i(M,{ref:(l,e)=>{e.form=l},"label-position":"top","label-width":"120px"},{default:u((()=>[v,c(t,{label:"内容设置："},{default:u((()=>[c(a,{type:"textarea",modelValue:k.value,"onUpdate:modelValue":e[0]||(e[0]=l=>k.value=l),autosize:{minRows:4,maxRows:6}},null,8,["modelValue"])])),_:1}),c(t,{label:"字体设置"},{default:u((()=>[r("div",w,[c(h,{placeholder:"please select your zone",onChange:V,modelValue:d(R).font,"onUpdate:modelValue":e[1]||(e[1]=l=>d(R).font=l),size:"small"},{default:u((()=>[(n(!0),m(p,null,f(d(b).familylist,(l=>(n(),i(s,{value:l.value,label:l.label},null,8,["value","label"])))),256))])),_:1},8,["modelValue"]),c(x,{class:"upload-demo",action:"#","on-change":_,"http-request":()=>{},"file-list":[],"show-file-list":!1},{default:u((()=>[c(y,{size:"small",type:"primary",plain:""},{default:u((()=>[g])),_:1})])),_:1},8,["http-request"])])])),_:1}),c(t,{label:"列数："},{default:u((()=>[c(j,{modelValue:d(R).col,"onUpdate:modelValue":e[2]||(e[2]=l=>d(R).col=l),max:25,min:3},null,8,["modelValue"])])),_:1}),c(t,null,{default:u((()=>[c(y,{type:"primary",onClick:q,size:"small"},{default:u((()=>[z])),_:1})])),_:1})])),_:1},512)}}};const _={class:"layout"},x={class:"main"},j={class:"dl"},M=r("header",{class:"mheader"},[r("h1",null,"书法练习")],-1),k={class:"con"},F={class:"mfooter"},U={class:"center"},G={class:"aside"},R={setup(l){let e=s({});const a=l=>{e.value=l};return(l,t)=>(n(),m("div",_,[r("main",x,[r("dl",j,[(n(!0),m(p,null,f(d(e).content,((l,a)=>(n(),m("dd",{class:"page",key:a},[M,r("div",k,[r("dd",{class:"one",style:y(d(e).styleObj)},[(n(!0),m(p,null,f(l,((l,a)=>(n(),m("ul",{key:a},[(n(!0),m(p,null,f(d(e).col,(a=>(n(),m("li",{class:"item",key:a,style:y(d(e).item)},[r("div",null,b(l),1)],4)))),128))])))),128))],4)]),r("footer",F,[r("ul",U,[r("li",null,b(d(e).col)+" * "+b(d(e).row)+" = "+b(d(e).col*d(e).row)+" | "+b((10*d(e).size).toFixed(1))+" MM * "+b((10*d(e).size).toFixed(1))+" MM ",1)])])])))),128))])]),r("aside",G,[c(V,{onGetGrid:a})])]))}};export{R as default};
