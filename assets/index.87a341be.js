var e=Object.defineProperty,l=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,r=(l,o,a)=>o in l?e(l,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[o]=a,n=(e,l)=>{for(var o in l||(l={}))t.call(l,o)&&r(e,o,l[o]);if(a)for(var o of a(l))s.call(l,o)&&r(e,o,l[o]);return e};"undefined"!=typeof require&&require;import{f as i,g as d}from"./util.a40993e4.js";import{l as u,m as c,g as m,r as p,o as f,c as b,w as y,j as w,u as h,i as v,h as V,q as g,F as z,k as _,p as j,f as O,n as x,t as C}from"./vendor.7a43a952.js";const U=v("h5",{class:"subtitle"},[v("span",{class:"uline"},"打印设置")],-1),F={class:"cc"},M=_("加载本地字体"),k={class:"oset"},R=_("打印"),q={emits:["getGrid"],setup(e,{emit:l}){const o=u({familylist:i.map((e=>"string"==typeof e?{label:d(e),value:e}:e))}),a=e=>{const l=o.familylist.find((l=>l.value===e));l&&s(l)},t=e=>{const l=window.URL.createObjectURL(e.raw),a=d(e.name),t=o.familylist;t.find((e=>e.label!=a))&&t.push({value:l,label:a}),s(t.find((e=>e.label==a)))};function s(e={}){const l=document.fonts,o=new FontFace(e.label,"url("+e.value+")");o.load().then((a=>(l.add(o),x.font=e.label,e))).catch((e=>{alert("字体加载错误！"),console.error(e)}))}const r=c((()=>({gridTemplateColumns:"repeat("+(x.col+1)+", "+x.size+"cm)",gridTemplateRows:"repeat("+x.row+", "+x.size+"cm)",font:.72*x.size+"cm/"+x.size+"cm "+x.font}))),n=c((()=>({gridRowEnd:x.row+1}))),_=m("孤山寺北贾亭西水面初平云脚低几处早莺争暖树谁家新燕啄春泥乱花渐欲迷人眼浅草才能没马蹄最爱湖东行不足绿杨阴里白沙堤\n相见时难别亦难，东风无力百花残。春蚕到死丝方尽，蜡炬成灰泪始干。晓镜但愁云鬓改，夜吟应觉月光寒。蓬山此去无多路，青鸟殷勤为探看。"),j={1:"1CM",1.4:"1.4",2:"2CM",3:"3CM"},O=c((()=>{let e=_.value.split("\n"),l=/\p{Unified_Ideograph}/gu,o=x.row*x.col;return e.filter(Boolean).map((e=>{let a=e.match(l);return a.length>=o?a.splice(0,o):[...a,...Array(o-a.length).fill("")]}))})),x=u({content:O,subcon:"二零二一年十月 某某",row:14,col:4,size:1.6,font:"",color:"#666",colorFont:"#000",class:"",styleObj:r,lastItem:n}),C=()=>window.print();return s(o.familylist[0]),l("getGrid",x),(e,l)=>{const s=p("el-input"),r=p("el-form-item"),n=p("el-option"),i=p("el-select"),d=p("el-button"),u=p("el-upload"),c=p("el-slider"),m=p("el-color-picker"),O=p("el-form");return f(),b(O,{ref:(e,l)=>{l.form=e},"label-position":"top","label-width":"120px"},{default:y((()=>[U,w(r,{label:"内容设置："},{default:y((()=>[w(s,{type:"textarea",modelValue:_.value,"onUpdate:modelValue":l[0]||(l[0]=e=>_.value=e),autosize:{minRows:4,maxRows:6},style:{"margin-bottom":"10px"}},null,8,["modelValue"]),w(s,{type:"text",size:"small",modelValue:h(x).subcon,"onUpdate:modelValue":l[1]||(l[1]=e=>h(x).subcon=e)},null,8,["modelValue"])])),_:1}),w(r,{label:"字体设置"},{default:y((()=>[v("div",F,[w(i,{placeholder:"please select your zone",onChange:a,modelValue:h(x).font,"onUpdate:modelValue":l[2]||(l[2]=e=>h(x).font=e),size:"small"},{default:y((()=>[(f(!0),V(z,null,g(h(o).familylist,(e=>(f(),b(n,{value:e.value,label:e.label},null,8,["value","label"])))),256))])),_:1},8,["modelValue"]),w(u,{class:"upload-demo",action:"#","on-change":t,"http-request":()=>{},"file-list":[],"show-file-list":!1},{default:y((()=>[w(d,{size:"small",type:"primary",plain:""},{default:y((()=>[M])),_:1})])),_:1},8,["http-request"])])])),_:1}),w(r,{label:"单元格尺寸："},{default:y((()=>[w(c,{modelValue:h(x).size,"onUpdate:modelValue":l[3]||(l[3]=e=>h(x).size=e),max:5,min:.5,step:"0.1",marks:j},null,8,["modelValue","min"])])),_:1}),w(r,{label:"列数："},{default:y((()=>[w(c,{modelValue:h(x).col,"onUpdate:modelValue":l[4]||(l[4]=e=>h(x).col=e),max:25,min:3},null,8,["modelValue"])])),_:1}),w(r,{label:"行数："},{default:y((()=>[w(c,{modelValue:h(x).row,"onUpdate:modelValue":l[5]||(l[5]=e=>h(x).row=e),max:25,min:3},null,8,["modelValue"])])),_:1}),w(r,{label:"其他设置："},{default:y((()=>[v("div",k,[w(m,{title:"背景色",modelValue:h(x).color,"onUpdate:modelValue":l[6]||(l[6]=e=>h(x).color=e),"show-alpha":"",predefine:e.predefineColors,size:"small"},null,8,["modelValue","predefine"]),w(m,{title:"字体颜色",modelValue:h(x).colorFont,"onUpdate:modelValue":l[7]||(l[7]=e=>h(x).colorFont=e),"show-alpha":"",predefine:e.predefineColors,size:"small"},null,8,["modelValue","predefine"])])])),_:1}),w(r,null,{default:y((()=>[w(d,{type:"primary",onClick:C,size:"small"},{default:y((()=>[R])),_:1})])),_:1})])),_:1},512)}}};j("data-v-d4b148b4");const I={class:"layout"},P={class:"main"},G={class:"dl"},E=v("header",{class:"mheader"},[v("h1",null,"书法练习")],-1),L={class:"mfooter"},T={class:"center"},A={class:"aside"};O();const B={setup(e){let a=m({});const t=e=>{a.value=e};return(e,s)=>(f(),V("div",I,[v("main",P,[v("dl",G,[(f(!0),V(z,null,g(h(a).content,((e,t)=>{return f(),V("dd",{class:"page",key:t},[E,v("div",{class:"con",style:x({borderColor:h(a).color})},[v("dd",{class:"one",style:x(h(a).styleObj)},[(f(!0),V(z,null,g(e,((e,l)=>(f(),V("span",{key:l,style:x({color:h(a).colorFont,borderColor:h(a).color})},C(e),5)))),128)),v("span",{class:"last",style:x((s=n({},h(a).lastItem),r={borderColor:h(a).color},l(s,o(r))))},[v("div",{style:x({color:h(a).colorFont})},C(h(a).subcon),5)],4)],4)],4),v("footer",L,[v("ul",T,[v("li",{style:x({color:h(a).color})},C(h(a).col)+" * "+C(h(a).row)+" = "+C(h(a).col*h(a).row)+" | "+C((10*h(a).size).toFixed(1))+" MM * "+C((10*h(a).size).toFixed(1))+" MM ",5)])])]);var s,r})),128))])]),v("aside",A,[w(q,{onGetGrid:t})])]))},__scopeId:"data-v-d4b148b4"};export{B as default};
