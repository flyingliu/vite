import{f as E,g as M}from"./util.44981369.js";import{l as G,m as U,f as R,r as c,o as m,c as $,w as i,i as s,h as r,u as o,g as f,n as h,F as w,k as B,q as L,t as v}from"./vendor.0e106761.js";const H=r("h5",{class:"subtitle"},[r("span",{class:"uline"},"\u6253\u5370\u8BBE\u7F6E")],-1),J={class:"cc"},K=B("\u52A0\u8F7D\u672C\u5730\u5B57\u4F53"),P={class:"oset"},Q=B("\u6253\u5370"),W={emits:["getGrid"],setup(N,{emit:u}){const y=G({familylist:E.map(n=>typeof n=="string"?{label:M(n),value:n}:n)}),g=n=>{const l=y.familylist.find(d=>d.value===n);l&&b(l)},F=n=>{const l=window.URL.createObjectURL(n.raw),d=M(n.name),a=y.familylist;a.find(_=>_.label!=d)&&a.push({value:l,label:d}),b(a.find(_=>_.label==d))};function b(n={}){const l=document.fonts,d=new FontFace(n.label,"url("+n.value+")");d.load().then(a=>(l.add(d),e.font=n.label,n)).catch(a=>{alert("\u5B57\u4F53\u52A0\u8F7D\u9519\u8BEF\uFF01"),console.error(a)})}const z=U(()=>({gridTemplateColumns:"repeat("+(e.col+1)+", "+e.size+"cm)",gridTemplateRows:"repeat("+e.row+", "+e.size+"cm)",font:e.size*.618+"cm/"+e.size+"cm "+e.font})),x=U(()=>({gridRowEnd:e.row+1})),V=R(`\u5B64\u5C71\u5BFA\u5317\u8D3E\u4EAD\u897F\u6C34\u9762\u521D\u5E73\u4E91\u811A\u4F4E\u51E0\u5904\u65E9\u83BA\u4E89\u6696\u6811\u8C01\u5BB6\u65B0\u71D5\u5544\u6625\u6CE5\u4E71\u82B1\u6E10\u6B32\u8FF7\u4EBA\u773C\u6D45\u8349\u624D\u80FD\u6CA1\u9A6C\u8E44\u6700\u7231\u6E56\u4E1C\u884C\u4E0D\u8DB3\u7EFF\u6768\u9634\u91CC\u767D\u6C99\u5824
\u76F8\u89C1\u65F6\u96BE\u522B\u4EA6\u96BE\uFF0C\u4E1C\u98CE\u65E0\u529B\u767E\u82B1\u6B8B\u3002\u6625\u8695\u5230\u6B7B\u4E1D\u65B9\u5C3D\uFF0C\u8721\u70AC\u6210\u7070\u6CEA\u59CB\u5E72\u3002\u6653\u955C\u4F46\u6101\u4E91\u9B13\u6539\uFF0C\u591C\u541F\u5E94\u89C9\u6708\u5149\u5BD2\u3002\u84EC\u5C71\u6B64\u53BB\u65E0\u591A\u8DEF\uFF0C\u9752\u9E1F\u6BB7\u52E4\u4E3A\u63A2\u770B\u3002`),q={1:"1CM",1.4:"1.4",2:"2CM",3:"3CM"},I=U(()=>{let l=V.value.split(`
`),d=/\p{Unified_Ideograph}/gu,a=e.row*e.col;return l.filter(Boolean).map(_=>{let p=_.match(d);return p.length>=a?p.splice(0,a):[...p,...Array(a-p.length).fill("")]})}),e=G({content:I,row:14,col:4,size:1.6,font:"",color:"#333333",class:"",styleObj:z,lastItem:x}),O=()=>u("getGrid",e),S=()=>window.print();return(()=>{b(y.familylist[0]),O()})(),(n,l)=>{const d=c("el-input"),a=c("el-form-item"),_=c("el-option"),p=c("el-select"),C=c("el-button"),T=c("el-upload"),k=c("el-slider"),j=c("el-color-picker"),A=c("el-form");return m(),$(A,{ref:(t,D)=>{D.form=t},"label-position":"top","label-width":"120px"},{default:i(()=>[H,s(a,{label:"\u5185\u5BB9\u8BBE\u7F6E\uFF1A"},{default:i(()=>[s(d,{type:"textarea",modelValue:V.value,"onUpdate:modelValue":l[0]||(l[0]=t=>V.value=t),autosize:{minRows:4,maxRows:6}},null,8,["modelValue"])]),_:1}),s(a,{label:"\u5B57\u4F53\u8BBE\u7F6E"},{default:i(()=>[r("div",J,[s(p,{placeholder:"please select your zone",onChange:g,modelValue:o(e).font,"onUpdate:modelValue":l[1]||(l[1]=t=>o(e).font=t),size:"small"},{default:i(()=>[(m(!0),f(w,null,h(o(y).familylist,t=>(m(),$(_,{value:t.value,label:t.label},null,8,["value","label"]))),256))]),_:1},8,["modelValue"]),s(T,{class:"upload-demo",action:"#","on-change":F,"http-request":()=>{},"file-list":[],"show-file-list":!1},{default:i(()=>[s(C,{size:"small",type:"primary",plain:""},{default:i(()=>[K]),_:1})]),_:1},8,["http-request"])])]),_:1}),s(a,{label:"\u5355\u5143\u683C\u5C3A\u5BF8\uFF1A"},{default:i(()=>[s(k,{modelValue:o(e).size,"onUpdate:modelValue":l[2]||(l[2]=t=>o(e).size=t),max:5,min:.5,step:"0.1",marks:q},null,8,["modelValue","min"])]),_:1}),s(a,{label:"\u5217\u6570\uFF1A"},{default:i(()=>[s(k,{modelValue:o(e).col,"onUpdate:modelValue":l[3]||(l[3]=t=>o(e).col=t),max:25,min:3},null,8,["modelValue"])]),_:1}),s(a,{label:"\u884C\u6570\uFF1A"},{default:i(()=>[s(k,{modelValue:o(e).row,"onUpdate:modelValue":l[4]||(l[4]=t=>o(e).row=t),max:25,min:3},null,8,["modelValue"])]),_:1}),s(a,{label:"\u5176\u4ED6\u8BBE\u7F6E\uFF1A"},{default:i(()=>[r("div",P,[s(j,{modelValue:o(e).color,"onUpdate:modelValue":l[5]||(l[5]=t=>o(e).color=t),size:"small"},null,8,["modelValue"]),s(p,{modelValue:o(e).class,"onUpdate:modelValue":l[6]||(l[6]=t=>o(e).class=t),clearable:"",placeholder:"\u8BF7\u9009\u62E9",size:"small"},{default:i(()=>[(m(),f(w,null,h([{label:"ss",value:"aa"}],t=>s(_,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])])]),_:1}),s(a,null,{default:i(()=>[s(C,{type:"primary",onClick:S,size:"small"},{default:i(()=>[Q]),_:1})]),_:1})]),_:1},512)}}};const X={class:"layout"},Y={class:"main"},Z={class:"dl"},ee=r("header",{class:"mheader"},[r("h1",null,"\u4E66\u6CD5\u7EC3\u4E60")],-1),le={class:"con"},te={class:"mfooter"},oe={class:"center"},se={class:"aside"},ie={setup(N){let u=R({});const y=g=>{u.value=g};return(g,F)=>(m(),f("div",X,[r("main",Y,[r("dl",Z,[(m(!0),f(w,null,h(o(u).content,(b,z)=>(m(),f("dd",{class:"page",key:z},[ee,r("div",le,[r("dd",{class:"one",style:L(o(u).styleObj)},[(m(!0),f(w,null,h(b,(x,V)=>(m(),f("span",{key:V},v(x),1))),128)),r("span",{class:"last",style:L(o(u).lastItem)},null,4)],4)]),r("footer",te,[r("ul",oe,[r("li",null,v(o(u).col)+" * "+v(o(u).row)+" = "+v(o(u).col*o(u).row)+" | "+v((o(u).size*10).toFixed(1))+" MM * "+v((o(u).size*10).toFixed(1))+" MM ",1)])])]))),128))])]),r("aside",se,[s(W,{onGetGrid:y})])]))}};export{ie as default};
