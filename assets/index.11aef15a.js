import{f as W,g as A}from"./util.aff549c7.js";import{l as B,m as v,f as L,r as _,o as d,c as U,w as m,i,h as s,u as o,g as f,n as b,F as w,k as $,q as C,t as p}from"./vendor.0e106761.js";const J=s("h5",{class:"subtitle"},[s("span",{class:"uline"},"\u6253\u5370\u8BBE\u7F6E")],-1),K={class:"cc"},Q=$("\u52A0\u8F7D\u672C\u5730\u5B57\u4F53"),X=$("\u6253\u5370"),Y={emits:["getGrid"],setup(E,{emit:n}){const x=18,g=26,h=B({familylist:W.map(e=>typeof e=="string"?{label:A(e),value:e}:e)}),z=e=>{const t=h.familylist.find(c=>c.value===e);t&&y(t)},V=e=>{const t=window.URL.createObjectURL(e.raw),c=A(e.name),l=h.familylist;l.find(r=>r.label!=c)&&l.push({value:t,label:c}),y(l.find(r=>r.label==c))};function y(e={}){const t=document.fonts,c=new FontFace(e.label,"url("+e.value+")");c.load().then(l=>(t.add(c),a.font=e.label,e)).catch(l=>{alert("\u5B57\u4F53\u52A0\u8F7D\u9519\u8BEF\uFF01"),console.error(l)})}const k=v(()=>({font:a.size*.618+"cm/"+a.size+"cm "+a.font})),F=v(()=>({width:a.size+"cm",height:a.size+"cm"})),G=L("\u5B64\u5C71\u5BFA\u5317\u8D3E\u4EAD\u897F\u6C34\u9762\u521D\u5E73\u4E91\u811A\u4F4E\u51E0\u5904\u65E9\u83BA\u4E89\u6696\u6811\u8C01\u5BB6\u65B0\u71D5\u5544\u6625\u6CE5\u4E71\u82B1\u6E10\u6B32\u8FF7\u4EBA\u773C\u6D45\u8349\u624D\u80FD\u6CA1\u9A6C\u8E44\u6700\u7231\u6E56\u4E1C\u884C\u4E0D\u8DB3\u7EFF\u6768\u9634\u91CC\u767D\u6C99\u5824");function N(e,t){return Array.from({length:Math.ceil(e.length/t)}).map((c,l)=>e.slice(l*t,(l+1)*t))}const R=v(()=>{let e=a.row,t=G.value;return N(t,e).filter(Boolean).map(l=>{let r=l.split("");return r.length>=e?r.splice(0,e):[...r,...Array(e-r.length).fill("")]})}),q=v(()=>Math.floor(g/a.size)),D=v(()=>x/a.col),a=B({col:12,content:R,row:q,size:D,font:"",styleObj:k,item:F}),H=()=>n("getGrid",a),O=()=>window.print();return(()=>{y(h.familylist[0]),H()})(),(e,t)=>{const c=_("el-input"),l=_("el-form-item"),r=_("el-option"),T=_("el-select"),M=_("el-button"),j=_("el-upload"),I=_("el-slider"),P=_("el-form");return d(),U(P,{ref:(u,S)=>{S.form=u},"label-position":"top","label-width":"120px"},{default:m(()=>[J,i(l,{label:"\u5185\u5BB9\u8BBE\u7F6E\uFF1A"},{default:m(()=>[i(c,{type:"textarea",modelValue:G.value,"onUpdate:modelValue":t[0]||(t[0]=u=>G.value=u),autosize:{minRows:4,maxRows:6}},null,8,["modelValue"])]),_:1}),i(l,{label:"\u5B57\u4F53\u8BBE\u7F6E"},{default:m(()=>[s("div",K,[i(T,{placeholder:"please select your zone",onChange:z,modelValue:o(a).font,"onUpdate:modelValue":t[1]||(t[1]=u=>o(a).font=u),size:"small"},{default:m(()=>[(d(!0),f(w,null,b(o(h).familylist,u=>(d(),U(r,{value:u.value,label:u.label},null,8,["value","label"]))),256))]),_:1},8,["modelValue"]),i(j,{class:"upload-demo",action:"#","on-change":V,"http-request":()=>{},"file-list":[],"show-file-list":!1},{default:m(()=>[i(M,{size:"small",type:"primary",plain:""},{default:m(()=>[Q]),_:1})]),_:1},8,["http-request"])])]),_:1}),i(l,{label:"\u5217\u6570\uFF1A"},{default:m(()=>[i(I,{modelValue:o(a).col,"onUpdate:modelValue":t[2]||(t[2]=u=>o(a).col=u),max:25,min:3},null,8,["modelValue"])]),_:1}),i(l,null,{default:m(()=>[i(M,{type:"primary",onClick:O,size:"small"},{default:m(()=>[X]),_:1})]),_:1})]),_:1},512)}}};const Z={class:"layout"},ee={class:"main"},te={class:"dl"},le=s("header",{class:"mheader"},[s("h1",null,"\u4E66\u6CD5\u7EC3\u4E60")],-1),oe={class:"con"},se={class:"mfooter"},ne={class:"center"},ae={class:"aside"},ue={setup(E){let n=L({});const x=g=>{n.value=g};return(g,h)=>(d(),f("div",Z,[s("main",ee,[s("dl",te,[(d(!0),f(w,null,b(o(n).content,(z,V)=>(d(),f("dd",{class:"page",key:V},[le,s("div",oe,[s("dd",{class:"one",style:C(o(n).styleObj)},[(d(!0),f(w,null,b(z,(y,k)=>(d(),f("ul",{key:k},[(d(!0),f(w,null,b(o(n).col,F=>(d(),f("li",{class:"item",key:F,style:C(o(n).item)},[s("div",null,p(y),1)],4))),128))]))),128))],4)]),s("footer",se,[s("ul",ne,[s("li",null,p(o(n).col)+" * "+p(o(n).row)+" = "+p(o(n).col*o(n).row)+" | "+p((o(n).size*10).toFixed(1))+" MM * "+p((o(n).size*10).toFixed(1))+" MM ",1),s("li",null,"\u5B57\u4F53\uFF1A"+p(o(n).font),1)])])]))),128))])]),s("aside",ae,[i(Y,{onGetGrid:x})])]))}};export{ue as default};
