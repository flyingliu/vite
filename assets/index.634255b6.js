import{f as l,g as e}from"./util.44981369.js";import{l as a,m as s,g as t,r as o,o as n,c as u,w as i,j as d,i as m,u as r,h as c,n as p,F as f,k as b,q as v,t as w}from"./vendor.898569cb.js";const y=m("h5",{class:"subtitle"},[m("span",{class:"uline"},"打印设置")],-1),V={class:"cc"},h=b("加载本地字体"),z={class:"oset"},g=b("打印"),_={emits:["getGrid"],setup(b,{emit:v}){const w=a({familylist:l.map((l=>"string"==typeof l?{label:e(l),value:l}:l))}),_=l=>{const e=w.familylist.find((e=>e.value===l));e&&x(e)},U=l=>{const a=window.URL.createObjectURL(l.raw),s=e(l.name),t=w.familylist;t.find((l=>l.label!=s))&&t.push({value:a,label:s}),x(t.find((l=>l.label==s)))};function x(l={}){const e=document.fonts,a=new FontFace(l.label,"url("+l.value+")");a.load().then((s=>(e.add(a),F.font=l.label,l))).catch((l=>{alert("字体加载错误！"),console.error(l)}))}const k=s((()=>({gridTemplateColumns:"repeat("+(F.col+1)+", "+F.size+"cm)",gridTemplateRows:"repeat("+F.row+", "+F.size+"cm)",font:.72*F.size+"cm/"+F.size+"cm "+F.font}))),M=s((()=>({gridRowEnd:F.row+1}))),j=t("孤山寺北贾亭西水面初平云脚低几处早莺争暖树谁家新燕啄春泥乱花渐欲迷人眼浅草才能没马蹄最爱湖东行不足绿杨阴里白沙堤\n相见时难别亦难，东风无力百花残。春蚕到死丝方尽，蜡炬成灰泪始干。晓镜但愁云鬓改，夜吟应觉月光寒。蓬山此去无多路，青鸟殷勤为探看。"),C={1:"1CM",1.4:"1.4",2:"2CM",3:"3CM"},R=s((()=>{let l=j.value.split("\n"),e=/\p{Unified_Ideograph}/gu,a=F.row*F.col;return l.filter(Boolean).map((l=>{let s=l.match(e);return s.length>=a?s.splice(0,a):[...s,...Array(a-s.length).fill("")]}))})),F=a({content:R,row:14,col:4,size:1.6,font:"",color:"#333333",class:"",styleObj:k,lastItem:M}),G=()=>window.print();return x(w.familylist[0]),v("getGrid",F),(l,e)=>{const a=o("el-input"),s=o("el-form-item"),t=o("el-option"),b=o("el-select"),v=o("el-button"),x=o("el-upload"),k=o("el-slider"),M=o("el-color-picker"),R=o("el-form");return n(),u(R,{ref:(l,e)=>{e.form=l},"label-position":"top","label-width":"120px"},{default:i((()=>[y,d(s,{label:"内容设置："},{default:i((()=>[d(a,{type:"textarea",modelValue:j.value,"onUpdate:modelValue":e[0]||(e[0]=l=>j.value=l),autosize:{minRows:4,maxRows:6}},null,8,["modelValue"])])),_:1}),d(s,{label:"字体设置"},{default:i((()=>[m("div",V,[d(b,{placeholder:"please select your zone",onChange:_,modelValue:r(F).font,"onUpdate:modelValue":e[1]||(e[1]=l=>r(F).font=l),size:"small"},{default:i((()=>[(n(!0),c(f,null,p(r(w).familylist,(l=>(n(),u(t,{value:l.value,label:l.label},null,8,["value","label"])))),256))])),_:1},8,["modelValue"]),d(x,{class:"upload-demo",action:"#","on-change":U,"http-request":()=>{},"file-list":[],"show-file-list":!1},{default:i((()=>[d(v,{size:"small",type:"primary",plain:""},{default:i((()=>[h])),_:1})])),_:1},8,["http-request"])])])),_:1}),d(s,{label:"单元格尺寸："},{default:i((()=>[d(k,{modelValue:r(F).size,"onUpdate:modelValue":e[2]||(e[2]=l=>r(F).size=l),max:5,min:.5,step:"0.1",marks:C},null,8,["modelValue","min"])])),_:1}),d(s,{label:"列数："},{default:i((()=>[d(k,{modelValue:r(F).col,"onUpdate:modelValue":e[3]||(e[3]=l=>r(F).col=l),max:25,min:3},null,8,["modelValue"])])),_:1}),d(s,{label:"行数："},{default:i((()=>[d(k,{modelValue:r(F).row,"onUpdate:modelValue":e[4]||(e[4]=l=>r(F).row=l),max:25,min:3},null,8,["modelValue"])])),_:1}),d(s,{label:"其他设置："},{default:i((()=>[m("div",z,[d(M,{modelValue:r(F).color,"onUpdate:modelValue":e[5]||(e[5]=l=>r(F).color=l),size:"small"},null,8,["modelValue"]),d(b,{modelValue:r(F).class,"onUpdate:modelValue":e[6]||(e[6]=l=>r(F).class=l),clearable:"",placeholder:"请选择",size:"small"},{default:i((()=>[(n(),c(f,null,p([{label:"ss",value:"aa"}],(l=>d(t,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])])),_:1}),d(s,null,{default:i((()=>[d(v,{type:"primary",onClick:G,size:"small"},{default:i((()=>[g])),_:1})])),_:1})])),_:1},512)}}};const U={class:"layout"},x={class:"main"},k={class:"dl"},M=m("header",{class:"mheader"},[m("h1",null,"书法练习")],-1),j={class:"con"},C={class:"mfooter"},R={class:"center"},F={class:"aside"},G={setup(l){let e=t({});const a=l=>{e.value=l};return(l,s)=>(n(),c("div",U,[m("main",x,[m("dl",k,[(n(!0),c(f,null,p(r(e).content,((l,a)=>(n(),c("dd",{class:"page",key:a},[M,m("div",j,[m("dd",{class:"one",style:v(r(e).styleObj)},[(n(!0),c(f,null,p(l,((l,e)=>(n(),c("span",{key:e},w(l),1)))),128)),m("span",{class:"last",style:v(r(e).lastItem)},null,4)],4)]),m("footer",C,[m("ul",R,[m("li",null,w(r(e).col)+" * "+w(r(e).row)+" = "+w(r(e).col*r(e).row)+" | "+w((10*r(e).size).toFixed(1))+" MM * "+w((10*r(e).size).toFixed(1))+" MM ",1)])])])))),128))])]),m("aside",F,[d(_,{onGetGrid:a})])]))}};export{G as default};
