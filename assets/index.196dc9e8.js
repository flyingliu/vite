import{f as E,g as M}from"./util.aff549c7.js";import{k as R,l as z,f as B,r as u,o as m,c as G,w as d,n,i as a,u as t,g as h,m as k,F,s as L,q as $,t as p}from"./vendor.cbb53725.js";const S=a("h5",{class:"subtitle"},[a("span",{class:"uline"},"\u6253\u5370\u8BBE\u7F6E")],-1),H={class:"cc"},J=L("\u52A0\u8F7D\u672C\u5730\u5B57\u4F53"),K=L("\u6253\u5370"),P={emits:["getGrid"],setup(N,{emit:r}){const f=R({familylist:E.map(s=>typeof s=="string"?{label:M(s),value:s}:s)}),g=s=>{const l=f.familylist.find(c=>c.value===s);l&&w(l)},C=s=>{const l=window.URL.createObjectURL(s.raw),c=M(s.name),o=f.familylist;o.find(_=>_.label!=c)&&o.push({value:l,label:c}),w(o.find(_=>_.label==c))};function w(s={}){const l=document.fonts,c=new FontFace(s.label,"url("+s.value+")");c.load().then(o=>(l.add(c),e.font=s.label,s)).catch(o=>{alert("\u5B57\u4F53\u52A0\u8F7D\u9519\u8BEF\uFF01"),console.error(o)})}const v=z(()=>({gridTemplateColumns:"repeat("+(e.col+1)+", "+e.size+"cm)",gridTemplateRows:"repeat("+e.row+", "+e.size+"cm)",font:e.size*.618+"cm/"+e.size+"cm "+e.font})),V=z(()=>({gridRowEnd:e.row+1})),b=B(`\u5B64\u5C71\u5BFA\u5317\u8D3E\u4EAD\u897F\u6C34\u9762\u521D\u5E73\u4E91\u811A\u4F4E\u51E0\u5904\u65E9\u83BA\u4E89\u6696\u6811\u8C01\u5BB6\u65B0\u71D5\u5544\u6625\u6CE5\u4E71\u82B1\u6E10\u6B32\u8FF7\u4EBA\u773C\u6D45\u8349\u624D\u80FD\u6CA1\u9A6C\u8E44\u6700\u7231\u6E56\u4E1C\u884C\u4E0D\u8DB3\u7EFF\u6768\u9634\u91CC\u767D\u6C99\u5824
\u76F8\u89C1\u65F6\u96BE\u522B\u4EA6\u96BE\uFF0C\u4E1C\u98CE\u65E0\u529B\u767E\u82B1\u6B8B\u3002\u6625\u8695\u5230\u6B7B\u4E1D\u65B9\u5C3D\uFF0C\u8721\u70AC\u6210\u7070\u6CEA\u59CB\u5E72\u3002\u6653\u955C\u4F46\u6101\u4E91\u9B13\u6539\uFF0C\u591C\u541F\u5E94\u89C9\u6708\u5149\u5BD2\u3002\u84EC\u5C71\u6B64\u53BB\u65E0\u591A\u8DEF\uFF0C\u9752\u9E1F\u6BB7\u52E4\u4E3A\u63A2\u770B\u3002`),q={1:"1CM",1.4:"1.4",2:"2CM",3:"3CM"},I=z(()=>{let l=b.value.split(`
`),c=/\p{Unified_Ideograph}/gu,o=e.row*e.col;return l.filter(Boolean).map(_=>{let y=_.match(c);return y.length>=o?y.splice(0,o):[...y,...Array(o-y.length).fill("")]})}),e=R({content:I,row:14,col:4,size:1.6,font:"",styleObj:v,lastItem:V}),O=()=>r("getGrid",e),T=()=>window.print();return(()=>{w(f.familylist[0]),O()})(),(s,l)=>{const c=u("el-input"),o=u("el-form-item"),_=u("el-option"),y=u("el-select"),U=u("el-button"),j=u("el-upload"),x=u("el-slider"),A=u("el-form");return m(),G(A,{ref:(i,D)=>{D.form=i},"label-position":"top","label-width":"120px"},{default:d(()=>[S,n(o,{label:"\u5185\u5BB9\u8BBE\u7F6E\uFF1A"},{default:d(()=>[n(c,{type:"textarea",modelValue:b.value,"onUpdate:modelValue":l[0]||(l[0]=i=>b.value=i),autosize:{minRows:4,maxRows:6}},null,8,["modelValue"])]),_:1}),n(o,{label:"\u5B57\u4F53\u8BBE\u7F6E"},{default:d(()=>[a("div",H,[n(y,{placeholder:"please select your zone",onChange:g,modelValue:t(e).font,"onUpdate:modelValue":l[1]||(l[1]=i=>t(e).font=i),size:"small"},{default:d(()=>[(m(!0),h(F,null,k(t(f).familylist,i=>(m(),G(_,{value:i.value,label:i.label},null,8,["value","label"]))),256))]),_:1},8,["modelValue"]),n(j,{class:"upload-demo",action:"#","on-change":C,"http-request":()=>{},"file-list":[],"show-file-list":!1},{default:d(()=>[n(U,{size:"small",type:"primary",plain:""},{default:d(()=>[J]),_:1})]),_:1},8,["http-request"])])]),_:1}),n(o,{label:"\u5355\u5143\u683C\u5C3A\u5BF8\uFF1A"},{default:d(()=>[n(x,{modelValue:t(e).size,"onUpdate:modelValue":l[2]||(l[2]=i=>t(e).size=i),max:5,min:.5,step:"0.1",marks:q},null,8,["modelValue","min"])]),_:1}),n(o,{label:"\u5217\u6570\uFF1A"},{default:d(()=>[n(x,{modelValue:t(e).col,"onUpdate:modelValue":l[3]||(l[3]=i=>t(e).col=i),max:25,min:3},null,8,["modelValue"])]),_:1}),n(o,{label:"\u884C\u6570\uFF1A"},{default:d(()=>[n(x,{modelValue:t(e).row,"onUpdate:modelValue":l[4]||(l[4]=i=>t(e).row=i),max:25,min:3},null,8,["modelValue"])]),_:1}),n(o,null,{default:d(()=>[n(U,{type:"primary",onClick:T,size:"small"},{default:d(()=>[K]),_:1})]),_:1})]),_:1},512)}}};const Q={class:"layout"},W={class:"main"},X={class:"dl"},Y=a("header",{class:"mheader"},[a("h1",null,"\u4E66\u6CD5\u7EC3\u4E60")],-1),Z={class:"con"},ee={class:"mfooter"},le={class:"center"},te={class:"aside"},ae={setup(N){let r=B({});const f=g=>{r.value=g};return(g,C)=>(m(),h("div",Q,[a("main",W,[a("dl",X,[(m(!0),h(F,null,k(t(r).content,(w,v)=>(m(),h("dd",{class:"page",key:v},[Y,a("div",Z,[a("dd",{class:"one",style:$(t(r).styleObj)},[(m(!0),h(F,null,k(w,(V,b)=>(m(),h("span",{key:b},p(V),1))),128)),a("span",{class:"last",style:$(t(r).lastItem)},null,4)],4)]),a("footer",ee,[a("ul",le,[a("li",null,p(t(r).col)+" * "+p(t(r).row)+" = "+p(t(r).col*t(r).row)+" | "+p((t(r).size*10).toFixed(1))+" MM * "+p((t(r).size*10).toFixed(1))+" MM ",1),a("li",null,"\u5B57\u4F53\uFF1A"+p(t(r).font),1)])])]))),128))])]),a("aside",te,[n(P,{onGetGrid:f})])]))}};export{ae as default};
