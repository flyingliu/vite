import{f as l,g as e}from"./util.a40993e4.js";import{p as a,f as o,g as t,o as s,h as r,i as n,t as d,n as u,l as i,m as c,r as m,F as p,q as f,u as h,j as v,w as b,c as y,k as g}from"./vendor.7a43a952.js";a("data-v-f4fd3050"),o();a("data-v-ef5028cc");const w={class:"td"};o();const V={props:{text:String,borderColor:String},setup:l=>(t(0),(e,a)=>(s(),r("div",w,[n("span",{style:u({borderColor:l.borderColor})},d(l.text),5),n("span",{style:u({borderColor:l.borderColor})},null,4)]))),__scopeId:"data-v-ef5028cc"},C={class:"layout"},F={class:"main"},_={class:"dl"},x=n("header",{class:"mheader"},[n("h1",null,"书法练习")],-1),z={class:"mfooter"},U={class:"aside"},M=n("h5",{class:"subtitle"},[n("span",{class:"uline"},"打印设置")],-1),R={class:"cc"},k=g("加载本地字体"),j={class:"oset"},T=g("打印"),W={setup(a){const o=()=>{window.print()},g=l=>{console.log("+++",l);const a=window.URL.createObjectURL(l.raw),o=e(l.name),t=w.familylist;t.find((l=>l.label!=o))&&t.push({value:a,label:o}),q(t.find((l=>l.label==o)))},w=i({familylist:l.map((l=>"string"==typeof l?{label:e(l),value:l}:l)),curr:{}}),W=l=>{w.curr=w.familylist.find((e=>e.value===l))||{},console.log(l,w.curr),q(w.curr)};function q(l={}){const e=document.fonts,a=new FontFace(l.label,"url("+l.value+")");a.load().then((o=>{e.add(a),B.fontFamily=l.label,w.curr=l})).catch((l=>{alert("字体加载错误！"),console.error(l)}))}c((()=>(l="")=>l.split("")));const L=(l,e,a)=>((l,e=5,a=5)=>{const o=[[]];return l.forEach(((l,t)=>{const s=Math.floor(t/(a*e));o[s]?o[s].push(l):o[s]=[l]})),o[o.length-1].length=a*e,o})(((l,e)=>{const a=["。","，","”","》","！","？",",",".","?","!"],o=[];return console.log("===col",e),l.split("").map(((t,s)=>{a.includes(t)&&!(o.length%e)&&l.length>e?o[o.length-1]=o[o.length-1]+t:o.push(t)})),o})(l,e),e,a),S=t("  庆历四年春，滕子京谪守巴陵郡。越明年，政通人和，百废具兴，乃重修岳阳楼，增其旧制，刻唐贤今人诗赋于其上，属予作文以记之。\n予观夫巴陵胜状，在洞庭一湖。衔远山，吞长江，浩浩汤汤，横无际涯，朝晖夕阴，气象万千，此则岳阳楼之大观也，前人之述备矣。然则北通巫峡，南极潇湘，迁客骚人，多会于此，览物之情，得无异乎？\n若夫淫雨霏霏，连月不开，阴风怒号，浊浪排空，日星隐曜，山岳潜形，商旅不行，樯倾楫摧，薄暮冥冥，虎啸猿啼。登斯楼也，则有去国怀乡，忧谗畏讥，满目萧然，感极而悲者矣。\n至若春和景明，波澜不惊，上下天光，一碧万顷，沙鸥翔集，锦鳞游泳，岸芷汀兰，郁郁青青。而或长烟一空，皓月千里，浮光跃金，静影沉璧，渔歌互答，此乐何极！登斯楼也，则有心旷神怡，宠辱偕忘，把酒临风，其喜洋洋者矣。\n嗟夫！予尝求古仁人之心，或异二者之为，何哉？不以物喜，不以己悲，居庙堂之高则忧其民，处江湖之远则忧其君。是进亦忧，退亦忧。然则何时而乐耶？其必曰“先天下之忧而忧，后天下之乐而乐”乎！噫！微斯人，吾谁与归？\n时六年九月十五日。"),E=i({name:S.value,region:"122",date1:"",date2:"",delivery:!1,color:"#999",colorFont:"#000",type:[],resource:"",desc:"dd"}),I=t(4),O=t(11),A=c((()=>{const l=18/O.value;return B.gridTemplateColumns="repeat("+O.value+", "+l+"cm)",I.value=Math.floor(26/(2*l+.2)),B.gridTemplateRows="repeat("+I.value+", "+2*l+"cm)",B.font=.72*l+"cm/"+l+"cm arial",B.itemWidth=l,B.color=E.colorFont,B.borderColor=E.color,L(S.value,O.value,I.value)})),B=i({gridTemplateColumns:"repeat(5, 20%)",gridTemplateRows:"repeat(4, 25%)",font:"",itemWidth:"",color:"",borderColor:""});return q(w.familylist[0]),(l,e)=>{const a=m("el-input"),t=m("el-form-item"),i=m("el-option"),c=m("el-select"),q=m("el-button"),L=m("el-upload"),D=m("el-slider"),G=m("el-color-picker"),H=m("el-form");return s(),r("div",C,[n("main",F,[n("dl",_,[(s(!0),r(p,null,f(h(A),((l,e)=>(s(),r("dd",{class:"page",key:e},[x,n("ul",{class:"con",style:u(h(B))},[(s(!0),r(p,null,f(l,((l,e)=>(s(),r("li",{key:e},[v(V,{text:l,"border-color":h(E).color},null,8,["text","border-color"])])))),128))],4),n("footer",z,[n("ul",null,[n("li",{style:u({color:h(E).color})},d(O.value)+" * "+d(I.value)+" = "+d(O.value*I.value)+" | "+d((10*h(B).itemWidth).toFixed(1))+" MM * "+d((10*h(B).itemWidth).toFixed(1))+" MM ",5)])])])))),128))])]),n("aside",U,[v(H,{ref:(l,e)=>{e.form=l},model:h(E),"label-position":"top","label-width":"120px"},{default:b((()=>[M,v(t,{label:"内容设置："},{default:b((()=>[v(a,{type:"textarea",modelValue:S.value,"onUpdate:modelValue":e[0]||(e[0]=l=>S.value=l),autosize:{minRows:4,maxRows:6}},null,8,["modelValue"])])),_:1}),v(t,{label:"字体设置"},{default:b((()=>[n("div",R,[v(c,{placeholder:"please select your zone",onChange:W,modelValue:h(B).fontFamily,"onUpdate:modelValue":e[1]||(e[1]=l=>h(B).fontFamily=l),size:"small"},{default:b((()=>[(s(!0),r(p,null,f(h(w).familylist,(l=>(s(),y(i,{value:l.value,label:l.label},null,8,["value","label"])))),256))])),_:1},8,["modelValue"]),v(L,{class:"upload-demo",action:"#","on-change":g,"http-request":()=>{},"file-list":[],"show-file-list":!1},{default:b((()=>[v(q,{size:"small",type:"primary",plain:""},{default:b((()=>[k])),_:1})])),_:1},8,["http-request"])])])),_:1}),v(t,{label:"列数设置："},{default:b((()=>[v(D,{modelValue:O.value,"onUpdate:modelValue":e[2]||(e[2]=l=>O.value=l),max:25,min:3},null,8,["modelValue"])])),_:1}),v(t,{label:"其他设置："},{default:b((()=>[n("div",j,[v(G,{title:"背景色",modelValue:h(E).color,"onUpdate:modelValue":e[3]||(e[3]=l=>h(E).color=l),"show-alpha":"",predefine:l.predefineColors,size:"small"},null,8,["modelValue","predefine"]),v(G,{title:"字体颜色",modelValue:h(E).colorFont,"onUpdate:modelValue":e[4]||(e[4]=l=>h(E).colorFont=l),"show-alpha":"",predefine:l.predefineColors,size:"small"},null,8,["modelValue","predefine"])])])),_:1}),v(t,null,{default:b((()=>[v(q,{type:"primary",onClick:o,size:"small"},{default:b((()=>[T])),_:1})])),_:1})])),_:1},8,["model"])])])}}};export{W as default};
