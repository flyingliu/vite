import{s as p}from"./util.231889b8.js";import{p as g,f as e,g as _,m as j,l,r as a,o as t,c as o,w as s,j as n,i as r,h as i,n as c,v as u,t as d,F as m,u as f,k as v,s as h,q as b}from"./vendor.898569cb.js";var y=["100_衅.jpg","142_蹙.jpg","184_关.jpg","225_哉.jpg","61_姪.jpg","101_称.jpg","143_臣.jpg","185_泉.jpg","226_尚.jpg","62_赠.jpg","102_兵.jpg","144_不.jpg","186_明.jpg","227_飨.jpg","63_赞.jpg","103_犯.jpg","145_孤.jpg","187_比.jpg","22_叔.jpg","64_善.jpg","104_顺.jpg","146_城.jpg","188_者.jpg","23_银.jpg","65_大.jpg","105_尔.jpg","147_围.jpg","189_再.jpg","24_青.jpg","66_夫.jpg","106_父.jpg","148_逼.jpg","18_申.jpg","25_光.jpg","67_季.jpg","107_常.jpg","149_父.jpg","190_陷.jpg","26_禄.jpg","68_明.jpg","108_山.jpg","14_朔.jpg","191_常.jpg","27_夫.jpg","69_之.jpg","109_作.jpg","150_陷.jpg","192_山.jpg","28_使.jpg","6_岁.jpg","10_九.jpg","151_子.jpg","193_携.jpg","29_持.jpg","70_灵.jpg","110_郡.jpg","152_死.jpg","194_尔.jpg","2_乾.jpg","71_惟.jpg","111_余.jpg","153_巢.jpg","195_首.jpg","30_节.jpg","72_尔.jpg","112_时.jpg","154_倾.jpg","196_榇.jpg","31_蒲.jpg","73_挺.jpg","113_受.jpg","155_卵.jpg","197_及.jpg","32_州.jpg","74_生.jpg","114_命.jpg","156_覆.jpg","198_兹.jpg","33_诸.jpg","75_夙.jpg","115_亦.jpg","157_天.jpg","199_同.jpg","34_军.jpg","76_标.jpg","116_在.jpg","158_不.jpg","19_第.jpg","35_事.jpg","77_幼.jpg","117_平.jpg","159_悔.jpg","1_维.jpg","36_蒲.jpg","78_德.jpg","118_原.jpg","15_三.jpg","200_还.jpg","37_州.jpg","79_宗.jpg","119_仁.jpg","160_祸.jpg","201_抚.jpg","38_刺.jpg","7_次.jpg","11_月.jpg","161_谁.jpg","202_念.jpg","39_史.jpg","80_庙.jpg","120_兄.jpg","162_为.jpg","203_摧.jpg","3_元.jpg","81_瑚.jpg","121_爱.jpg","163_荼.jpg","204_切.jpg","40_上.jpg","82_琏.jpg","122_我.jpg","164_毒.jpg","205_震.jpg","41_轻.jpg","83_阶.jpg","123_俾.jpg","165_念.jpg","206_悼.jpg","42_车.jpg","84_庭.jpg","124_尔.jpg","166_尔.jpg","207_心.jpg","43_都.jpg","85_兰.jpg","125_传.jpg","167_遘.jpg","208_颜.jpg","44_尉.jpg","86_玉.jpg","126_言.jpg","168_残.jpg","209_方.jpg","45_丹.jpg","87_每.jpg","127_尔.jpg","169_百.jpg","20_十.jpg","46_杨.jpg","88_慰.jpg","128_既.jpg","16_日.jpg","210_俟.jpg","47_县.jpg","89_人.jpg","129_归.jpg","170_身.jpg","211_远.jpg","48_开.jpg","8_戊.jpg","12_庚.jpg","171_何.jpg","212_日.jpg","49_国.jpg","90_心.jpg","130_止.jpg","172_赎.jpg","213_宅.jpg","4_元.jpg","91_方.jpg","131_爰.jpg","173_鸣.jpg","214_魂.jpg","50_侯.jpg","92_期.jpg","132_开.jpg","174_乎.jpg","215_而.jpg","51_真.jpg","93_戬.jpg","133_土.jpg","175_哀.jpg","216_有.jpg","52_卿.jpg","94_谷.jpg","134_门.jpg","176_哉.jpg","217_知.jpg","53_以.jpg","95_何.jpg","135_土.jpg","177_吾.jpg","218_无.jpg","54_清.jpg","96_图.jpg","136_门.jpg","178_承.jpg","219_嗟.jpg","55_酌.jpg","97_逆.jpg","137_既.jpg","179_天.jpg","21_三.jpg","56_庶.jpg","98_贼.jpg","138_开.jpg","17_壬.jpg","220_久.jpg","57_羞.jpg","99_间.jpg","139_凶.jpg","180_泽.jpg","221_客.jpg","58_祭.jpg","9_戌.jpg","13_午.jpg","181_移.jpg","222_鸣.jpg","59_于.jpg","140_威.jpg","182_牧.jpg","223_呼.jpg","5_年.jpg","141_大.jpg","183_河.jpg","224_哀.jpg","60_亡.jpg"];const w=function(p,g){return new Promise(((e,_)=>{"function"==typeof ColorThief?function(p,g,e){g=g||function(){};var _=new XMLHttpRequest;_.onload=function(){var p=URL.createObjectURL(this.response),e=new Image;e.onload=function(){g(e),URL.revokeObjectURL(p)},e.src=p},_.onerror=e||function(){},_.open("GET",p,!0),_.responseType="blob",_.send()}(p,(function(p){let j=p.naturalWidth,l=p.naturalHeight;if(j*l==0)return void _("image size error");let a=j/l,t=41.5687,o=41.5687;a>1?o=t/a:t=o*a,t<30?(t=30,o=30/a):o<30&&(o=30,t=30*a);let s=o/l;s>1&&(s=1,t=j,o=l),g=Array.isArray(g)&&4==g.length?g.map((p=>p*s)):[0,0,t,o];var n=document.createElement("canvas");n.width=t,n.height=o,n.getContext("2d").drawImage(p,0,0,t,o);var r=(new ColorThief).getPalette(n,3,g);let i=[];r.forEach((function(p){r.forEach((function(g){g!=p&&i.push(function(p,g){let[e,_,j]=p,[l,a,t]=g,o=(e+l)/2,s=e-l,n=_-a,r=j-t;return Math.sqrt((2+o/256)*s*s+4*n*n+(2+(255-o)/256)*r*r)}(p,g))}))}));let c=i.reduce((function(p,g){return p+g}));e({colors:r.map((p=>`rgb(${p.join()})`)),similarity:Math.round(100*c/i.length)/100})}),(function(){_("image load failed!")})):_("need color-thief.js")}))};g("data-v-3f5e9ddb");const z=r("h5",{class:"subtitle"},[r("span",{class:"uline"},"打印设置")],-1),k={class:"contentList"},x=["onClick"],V={class:"oset"},C=v("打印");e();const M={setup(g,{expose:e}){const v=[10,10,300,100],h=_(y.map((p=>{const g=p.split(".")[0].split("_");return{label:g[1],value:p,number:+g[0],httpImg:"/data/jizhiwengao/"+p,active:!1}})).sort(p("number",!0)));_(null);const b=p=>{p.active=!p.active,(p=>{p=p||h.value[0],w(p.httpImg,v).then((p=>{R.colors=p.colors,console.log(R.colors)}))})(p)};[0,1].forEach((p=>b(h.value[p])));const M=j((()=>({width:R.size+"cm",height:R.size+"cm",fontSize:R.size+"cm",color:R.color}))),I=j((()=>h.value.filter((p=>p.active)))),U=j((()=>Math.floor(26/R.size))),L=j((()=>18/R.repeat)),R=l({col:1,content:I,row:U,size:L,font:"",item:M,color:"rgba(0,0,0,.5)",repeat:2,colors:[],icon:"icon1"}),E=()=>window.print(),T=_(["#e00","#ff8c00","#ffd700","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94, 0.5)","hsl(181, 100%, 37%)","hsla(209, 100%, 56%, 0.73)","#000"]),q=[{label:"带点米字格",value:"icon1"},{label:"十字格",value:"icon2"},{label:"米字格",value:"icon3"}];return e({state:R}),(p,g)=>{const e=a("el-form-item"),_=a("el-color-picker"),j=a("el-input-number"),l=a("el-option"),v=a("el-select"),y=a("el-button"),w=a("el-form");return t(),o(w,{ref:(p,g)=>{g.form=p},"label-position":"top","label-width":"120px"},{default:s((()=>[z,n(e,{label:"内容设置："},{default:s((()=>[r("ul",k,[(t(!0),i(m,null,c(h.value,(p=>(t(),i("li",{key:p.number,onClick:g=>b(p),class:u({active:p.active})},d(p.label),11,x)))),128))])])),_:1}),n(e,{label:"其他设置："},{default:s((()=>[r("div",V,[n(_,{title:"背景色",modelValue:f(R).color,"onUpdate:modelValue":g[0]||(g[0]=p=>f(R).color=p),"show-alpha":"",predefine:T.value,size:"small"},null,8,["modelValue","predefine"]),n(j,{modelValue:f(R).repeat,"onUpdate:modelValue":g[1]||(g[1]=p=>f(R).repeat=p),min:1,max:6,size:"small",style:{width:"100px"}},null,8,["modelValue"]),n(v,{modelValue:f(R).icon,"onUpdate:modelValue":g[2]||(g[2]=p=>f(R).icon=p),clearable:"",placeholder:"请选择",size:"small",style:{width:"120px"}},{default:s((()=>[(t(),i(m,null,c(q,(p=>n(l,{key:p.value,label:p.label,value:p.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])])),_:1}),n(e,null,{default:s((()=>[n(y,{type:"primary",onClick:E,size:"small"},{default:s((()=>[C])),_:1})])),_:1})])),_:1},512)}},__scopeId:"data-v-3f5e9ddb"};g("data-v-53cc39ee");const I={class:"layout"},U={class:"main"},L={class:"dlone"},R=["src","alt"],E={class:"center"},T={class:"aside"};e();const q={setup(p){const g=_(null),e=_({});return h((()=>{e.value=g.value.state})),(p,_)=>{var j;return t(),i("div",I,[r("main",U,[r("dl",L,[r("dd",{class:"page",style:b({backgroundColor:(null==(j=e.value.colors)?void 0:j[0])||""})},[r("dl",{class:"con",style:b({borderColor:e.value.color})},[(t(!0),i(m,null,c(e.value.content,((p,g)=>(t(),i("dd",{class:u(["item",e.value.icon]),key:g,style:b(e.value.item)},[r("div",null,[r("img",{src:p.httpImg,alt:p.label},null,8,R)])],6)))),128))],4),r("footer",{class:"mfooter",style:b({color:e.value.color})},[r("ul",E,[r("li",null,d((10*e.value.size).toFixed(1))+" MM * "+d((10*e.value.size).toFixed(1))+" MM ",1)])],4)],4)])]),r("aside",T,[n(M,{ref:(p,e)=>{e.SetGridRef=p,g.value=p}},null,512)])])}},__scopeId:"data-v-53cc39ee"};export{q as default};
