import{s as p}from"./util.231889b8.js";import{p as e,f as g,g as l,m as _,l as j,r as a,o as t,c as o,w as s,j as n,i as r,h as u,q as c,v as i,t as v,F as d,u as f,k as m,s as h,n as b}from"./vendor.5002851f.js";var y=["100_衅.jpg","142_蹙.jpg","184_关.jpg","225_哉.jpg","61_姪.jpg","101_称.jpg","143_臣.jpg","185_泉.jpg","226_尚.jpg","62_赠.jpg","102_兵.jpg","144_不.jpg","186_明.jpg","227_飨.jpg","63_赞.jpg","103_犯.jpg","145_孤.jpg","187_比.jpg","22_叔.jpg","64_善.jpg","104_顺.jpg","146_城.jpg","188_者.jpg","23_银.jpg","65_大.jpg","105_尔.jpg","147_围.jpg","189_再.jpg","24_青.jpg","66_夫.jpg","106_父.jpg","148_逼.jpg","18_申.jpg","25_光.jpg","67_季.jpg","107_常.jpg","149_父.jpg","190_陷.jpg","26_禄.jpg","68_明.jpg","108_山.jpg","14_朔.jpg","191_常.jpg","27_夫.jpg","69_之.jpg","109_作.jpg","150_陷.jpg","192_山.jpg","28_使.jpg","6_岁.jpg","10_九.jpg","151_子.jpg","193_携.jpg","29_持.jpg","70_灵.jpg","110_郡.jpg","152_死.jpg","194_尔.jpg","2_乾.jpg","71_惟.jpg","111_余.jpg","153_巢.jpg","195_首.jpg","30_节.jpg","72_尔.jpg","112_时.jpg","154_倾.jpg","196_榇.jpg","31_蒲.jpg","73_挺.jpg","113_受.jpg","155_卵.jpg","197_及.jpg","32_州.jpg","74_生.jpg","114_命.jpg","156_覆.jpg","198_兹.jpg","33_诸.jpg","75_夙.jpg","115_亦.jpg","157_天.jpg","199_同.jpg","34_军.jpg","76_标.jpg","116_在.jpg","158_不.jpg","19_第.jpg","35_事.jpg","77_幼.jpg","117_平.jpg","159_悔.jpg","1_维.jpg","36_蒲.jpg","78_德.jpg","118_原.jpg","15_三.jpg","200_还.jpg","37_州.jpg","79_宗.jpg","119_仁.jpg","160_祸.jpg","201_抚.jpg","38_刺.jpg","7_次.jpg","11_月.jpg","161_谁.jpg","202_念.jpg","39_史.jpg","80_庙.jpg","120_兄.jpg","162_为.jpg","203_摧.jpg","3_元.jpg","81_瑚.jpg","121_爱.jpg","163_荼.jpg","204_切.jpg","40_上.jpg","82_琏.jpg","122_我.jpg","164_毒.jpg","205_震.jpg","41_轻.jpg","83_阶.jpg","123_俾.jpg","165_念.jpg","206_悼.jpg","42_车.jpg","84_庭.jpg","124_尔.jpg","166_尔.jpg","207_心.jpg","43_都.jpg","85_兰.jpg","125_传.jpg","167_遘.jpg","208_颜.jpg","44_尉.jpg","86_玉.jpg","126_言.jpg","168_残.jpg","209_方.jpg","45_丹.jpg","87_每.jpg","127_尔.jpg","169_百.jpg","20_十.jpg","46_杨.jpg","88_慰.jpg","128_既.jpg","16_日.jpg","210_俟.jpg","47_县.jpg","89_人.jpg","129_归.jpg","170_身.jpg","211_远.jpg","48_开.jpg","8_戊.jpg","12_庚.jpg","171_何.jpg","212_日.jpg","49_国.jpg","90_心.jpg","130_止.jpg","172_赎.jpg","213_宅.jpg","4_元.jpg","91_方.jpg","131_爰.jpg","173_鸣.jpg","214_魂.jpg","50_侯.jpg","92_期.jpg","132_开.jpg","174_乎.jpg","215_而.jpg","51_真.jpg","93_戬.jpg","133_土.jpg","175_哀.jpg","216_有.jpg","52_卿.jpg","94_谷.jpg","134_门.jpg","176_哉.jpg","217_知.jpg","53_以.jpg","95_何.jpg","135_土.jpg","177_吾.jpg","218_无.jpg","54_清.jpg","96_图.jpg","136_门.jpg","178_承.jpg","219_嗟.jpg","55_酌.jpg","97_逆.jpg","137_既.jpg","179_天.jpg","21_三.jpg","56_庶.jpg","98_贼.jpg","138_开.jpg","17_壬.jpg","220_久.jpg","57_羞.jpg","99_间.jpg","139_凶.jpg","180_泽.jpg","221_客.jpg","58_祭.jpg","9_戌.jpg","13_午.jpg","181_移.jpg","222_鸣.jpg","59_于.jpg","140_威.jpg","182_牧.jpg","223_呼.jpg","5_年.jpg","141_大.jpg","183_河.jpg","224_哀.jpg","60_亡.jpg"];const z=function(p,e){return new Promise(((g,l)=>{"function"==typeof ColorThief?function(p,e,g){e=e||function(){};var l=new XMLHttpRequest;l.onload=function(){var p=URL.createObjectURL(this.response),g=new Image;g.onload=function(){e(g),URL.revokeObjectURL(p)},g.src=p},l.onerror=g||function(){},l.open("GET",p,!0),l.responseType="blob",l.send()}(p,(function(p){let _=p.naturalWidth,j=p.naturalHeight;if(_*j==0)return void l("image size error");let a=_/j,t=41.5687,o=41.5687;a>1?o=t/a:t=o*a,t<30?(t=30,o=30/a):o<30&&(o=30,t=30*a);let s=o/j;s>1&&(s=1,t=_,o=j),e=Array.isArray(e)&&4==e.length?e.map((p=>p*s)):[0,0,t,o];var n=document.createElement("canvas");n.width=t,n.height=o,n.getContext("2d").drawImage(p,0,0,t,o);var r=(new ColorThief).getPalette(n,3,e);let u=[];r.forEach((function(p){r.forEach((function(e){e!=p&&u.push(function(p,e){let[g,l,_]=p,[j,a,t]=e,o=(g+j)/2,s=g-j,n=l-a,r=_-t;return Math.sqrt((2+o/256)*s*s+4*n*n+(2+(255-o)/256)*r*r)}(p,e))}))}));let c=u.reduce((function(p,e){return p+e}));g({colors:r.map((p=>`rgb(${p.join()})`)),similarity:Math.round(100*c/u.length)/100})}),(function(){l("image load failed!")})):l("need color-thief.js")}))};e("data-v-2211491a");const w=r("h5",{class:"subtitle"},[r("span",{class:"uline"},"打印设置")],-1),k={class:"contentList"},x=["onClick"],I={class:"oset"},C=m("重置");g();const V={setup(e,{expose:g}){const h=[10,10,300,100],b=l(y.map((p=>{const e=p.split(".")[0].split("_");return{label:e[1],value:p,number:+e[0],httpImg:"/data/jizhiwengao/"+p,active:!1}})).sort(p("number",!0)));l(null);const V=l([]),M=l(!1),U=(p,e)=>{if(e)return q(),p.active=!0,V.value=[p],!1;p.active?(p.active=!1,V.value=V.value.filter((e=>e!==p))):(p.active=!0,V.value.push(p)),(p=>{p=p||b.value[0],z(p.httpImg,h).then((p=>{G.colors=p.colors,console.log(G.colors)}))})(p)},E=l(0);let L;const R=()=>{if(M.value)return M.value=!1,void clearInterval(L);M.value=!0;const p=b.value.length-1;L=setInterval((()=>{E.value<p?(U(b.value[E.value],!0),E.value++):E.value=0,console.log("currIndex.value",E.value)}),2e3*G.repeat)};[0,1].forEach((p=>U(b.value[p])));const T=_((()=>({width:G.size+"cm",height:G.size+"cm",fontSize:G.size+"cm",color:G.color}))),q=()=>{b.value.forEach((p=>p.active=!1)),V.value=[]},F=_((()=>Math.floor(26/G.size))),A=_((()=>18/(V.value.length||1))),G=j({col:1,content:V,row:F,size:A,font:"",item:T,color:"rgba(0,0,0,.5)",repeat:2,colors:[],icon:"icon1"}),H=l(["#e00","#ff8c00","#ffd700","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94, 0.5)","hsl(181, 100%, 37%)","hsla(209, 100%, 56%, 0.73)","#000"]),O=[{label:"带点米字格",value:"icon1"},{label:"十字格",value:"icon2"},{label:"米字格",value:"icon3"}];return g({state:G}),(p,e)=>{const g=a("el-form-item"),l=a("el-color-picker"),_=a("el-option"),j=a("el-select"),h=a("el-button"),y=a("el-input-number"),z=a("el-form");return t(),o(z,{ref:(p,e)=>{e.form=p},"label-position":"top","label-width":"120px"},{default:s((()=>[w,n(g,{label:"内容设置："},{default:s((()=>[r("ul",k,[(t(!0),u(d,null,c(b.value,(p=>(t(),u("li",{key:p.number,onClick:e=>U(p),class:i({active:p.active})},v(p.label),11,x)))),128))])])),_:1}),n(g,{label:"其他设置："},{default:s((()=>[r("div",I,[n(l,{title:"背景色",modelValue:f(G).color,"onUpdate:modelValue":e[0]||(e[0]=p=>f(G).color=p),"show-alpha":"",predefine:H.value,size:"small"},null,8,["modelValue","predefine"]),n(j,{modelValue:f(G).icon,"onUpdate:modelValue":e[1]||(e[1]=p=>f(G).icon=p),clearable:"",placeholder:"请选择",size:"small",style:{width:"120px"}},{default:s((()=>[(t(),u(d,null,c(O,(p=>n(_,{key:p.value,label:p.label,value:p.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])])),_:1}),n(g,null,{default:s((()=>[n(h,{onClick:q,size:"small"},{default:s((()=>[C])),_:1}),n(h,{type:"primary",onClick:R,size:"small"},{default:s((()=>[m(v(M.value?"暂停播放":"自动播放"),1)])),_:1}),n(y,{modelValue:f(G).repeat,"onUpdate:modelValue":e[2]||(e[2]=p=>f(G).repeat=p),min:1,max:6,size:"small",style:{width:"100px",margin:"0 10px"}},null,8,["modelValue"])])),_:1})])),_:1},512)}},__scopeId:"data-v-2211491a"};e("data-v-53cc39ee");const M={class:"layout"},U={class:"main"},E={class:"dlone"},L=["src","alt"],R={class:"center"},T={class:"aside"};g();const q={setup(p){const e=l(null),g=l({});return h((()=>{g.value=e.value.state})),(p,l)=>{var _;return t(),u("div",M,[r("main",U,[r("dl",E,[r("dd",{class:"page",style:b({backgroundColor:(null==(_=g.value.colors)?void 0:_[0])||""})},[r("dl",{class:"con",style:b({borderColor:g.value.color})},[(t(!0),u(d,null,c(g.value.content,((p,e)=>(t(),u("dd",{class:i(["item",g.value.icon]),key:e,style:b(g.value.item)},[r("div",null,[r("img",{src:p.httpImg,alt:p.label},null,8,L)])],6)))),128))],4),r("footer",{class:"mfooter",style:b({color:g.value.color})},[r("ul",R,[r("li",null,v((10*g.value.size).toFixed(1))+" MM * "+v((10*g.value.size).toFixed(1))+" MM ",1)])],4)],4)])]),r("aside",T,[n(V,{ref:(p,g)=>{g.SetGridRef=p,e.value=p}},null,512)])])}},__scopeId:"data-v-53cc39ee"};export{q as default};
